webpackJsonp([2],{"0L9S":function(t,e){},"0ri8":function(t,e){},"1ggK":function(t,e){},ZVnE:function(t,e,s){"use strict";var a=s("uITQ"),n=s("wtEF"),o=s("Au9i"),i={name:"changePass",data:function(){return{userID:"",reType:"0",phone:"",code:"",password:"",stype:"modifyPass",repassword:""}},created:function(){this.$route.params.id&&(this.userID=this.$route.params.id,this.phone=this.$route.params.phone)},methods:{submit:function(){return""==this.phone?(Object(o.Toast)("请输入手机号"),!1):""==this.code?(Object(o.Toast)("请输入验证码"),!1):""==this.password||""==this.repassword?(Object(o.Toast)("密码不能为空"),!1):this.password!=this.repassword?(Object(o.Toast)("两次密码输入不一致"),!1):void this.myRequest.post("/ucenter/resetPassword",{userID:this.userID,reType:this.reType,phone:this.phone,code:this.code,password:this.password,repassword:this.repassword}).then(function(t){"success"==t.data.message?o.MessageBox.alert("修改成功，请重新登录").then(function(t){n.a.commit("delData",{}),localStorage.removeItem("userId"),localStorage.removeItem("signInTime"),window.location.href="/signin.html"}):Object(o.Toast)(t.data.tit),console.log(t)}).catch(function(t){Object(o.Toast)("修改失败"),console.log(t)})}},components:{svCode:a.a}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-header",{attrs:{title:"密码修改"}},[t.$route.params.id?s("router-link",{attrs:{slot:"left",to:"/usercenter"},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1):t._e(),t._v(" "),t.$route.params.id?t._e():s("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1)],1),t._v(" "),s("p",{staticClass:"sel-p"},[s("label",[t._v("登录密码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.reType,expression:"reType"}],attrs:{type:"radio",value:"0",name:"pass"},domProps:{checked:t._q(t.reType,"0")},on:{change:function(e){t.reType="0"}}})]),t._v(" "),s("label",[t._v("二级密码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.reType,expression:"reType"}],attrs:{type:"radio",value:"1",name:"pass"},domProps:{checked:t._q(t.reType,"1")},on:{change:function(e){t.reType="1"}}})])]),t._v(" "),s("div",{staticClass:"inputs"},[t.$route.params.id?t._e():s("mt-field",{attrs:{label:"用户ID",placeholder:"请输入用户ID"},model:{value:t.userID,callback:function(e){t.userID=e},expression:"userID"}}),t._v(" "),t.$route.params.id?t._e():s("mt-field",{attrs:{label:"手机号",placeholder:"请输入用户手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),s("mt-field",{attrs:{label:"验证码",placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[s("sv-code",{attrs:{iphone:t.phone,type:t.stype}})],1),t._v(" "),s("mt-field",{attrs:{label:"新密码",placeholder:"请输入新密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("mt-field",{attrs:{label:"新密码",placeholder:"请再次输入新密码",type:"password"},model:{value:t.repassword,callback:function(e){t.repassword=e},expression:"repassword"}})],1),t._v(" "),s("button",{staticClass:"btn",on:{click:t.submit}},[t._v("确定")])],1)},staticRenderFns:[]};var c=s("VU/8")(i,r,!1,function(t){s("1ggK")},"data-v-23eb153c",null);e.a=c.exports},a6kr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")({name:"App",beforeCreate:function(){}},n,!1,function(t){s("0L9S")},null,null).exports,i=s("/ocq"),r=s("Au9i"),c=s.n(r),l={name:"signIn",data:function(){return{selected:"",userID:"",password:""}},methods:{submit:function(){if(""==this.selected||null==this.selected)return Object(r.Toast)("请选择身份"),!1;if(""==this.userID||null==this.userID)return Object(r.Toast)("请输入账号"),!1;if(""==this.password||null==this.password)return Object(r.Toast)("请输入密码"),!1;var t={type:this.selected,userID:this.userID,password:this.password};this.myRequest.post("/ucenter/login",t).then(function(e){var s=e.data;if("success"==s.message){var a=new Date;localStorage.setItem("userId",t.userID),localStorage.setItem("signInTime",a.getTime()),window.location.href="/index.html"}else"error"==s.message&&Object(r.Toast)(s.tit);console.log(e)}).catch(function(t){console.log(t)})}},created:function(){var t=new Date;localStorage.getItem("signInTime")&&(r.Indicator.open({text:"自动登录中...",spinnerType:"fading-circle"}),parseInt(Math.abs(t.getTime()-parseInt(localStorage.getItem("signInTime")))/1e3/60/60/24)>=7?(Object(r.Toast)("登录状态已过期，请重新登录"),r.Indicator.close(),localStorage.removeItem("userId"),localStorage.removeItem("signInTime")):(r.Indicator.close(),window.location.href="/index.html"))}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-header",{attrs:{title:"登录"}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"inputs"},[s("div",{staticClass:"s-input"},[s("label",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("请选择身份")]),t._v(" "),s("option",[t._v("金牌服务商")]),t._v(" "),s("option",[t._v("银牌服务商")]),t._v(" "),s("option",[t._v("商家")]),t._v(" "),s("option",[t._v("消费者")])]),t._v(" "),s("i")])]),t._v(" "),s("div",{staticClass:"s-input"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userID,expression:"userID"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.userID},on:{input:function(e){e.target.composing||(t.userID=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"s-input"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("button",{on:{click:t.submit,key:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submit(e):null}}},[t._v("登录")]),t._v(" "),s("router-link",{attrs:{to:"/Reg"}},[t._v("注册")]),t._v(" "),s("router-link",{attrs:{to:"/forgetpass"}},[t._v("忘记密码")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:"static/images/logo.png",alt:""}}),this._v(" "),e("p",[this._v("吉杭电子科技")])])}]};var p=s("VU/8")(l,u,!1,function(t){s("k1LF")},"data-v-783c63e1",null).exports,d={name:"reg",data:function(){return{tId:"",tName:"",tPhone:"",phone:"",identity:"您的身份",yzm:"",rpassword:"",password:"",xieyi:!0,popupVisible3:!1}},components:{svcode:s("uITQ").a},computed:{randomPass:function(){return this.rpassword=String(parseInt(999999*Math.random())),6!=this.rpassword.length&&(this.rpassword="139879"),this.rpassword}},methods:{getRdata:function(){var t=this.tId,e=this;if(""==t||null==t)return!1;this.myRequest.post("/ucenter/reg/selectTop",{id:t}).then(function(t){var s=t.data;if("404"==s.code)return Object(r.Toast)(s.tit),!1;e.tName=s.data.name,e.tPhone=s.data.phone,e.identity=s.data.zhuCeRenType}).catch(function(t){Object(r.Toast)("网络错误！"),console.log(t)})},rsubmit:function(){if(console.log(this.tId),""==this.tId||null==this.tId)return Object(r.Toast)("请输入推荐人id"),!1;if(""==this.tName||null==this.tName)return Object(r.Toast)("请输入正确的推荐人id"),!1;if(""==this.phone||null==this.phone)return Object(r.Toast)("请输入11位手机号"),!1;if(""==this.yzm||null==this.yzm)return Object(r.Toast)("请输入验证码"),!1;if(this.rpassword!=this.password)return Object(r.Toast)("密码输入错误，请重新输入"),!1;if(!this.xieyi)return Object(r.Toast)("请同意协议"),!1;r.Indicator.open({text:"提交中...",spinnerType:"fading-circle"});var t={phone:this.phone,type:this.identity,password:this.password,code:this.yzm,tuijianId:this.tId},e=this.fszm;this.myRequest.post("/ucenter/reg",t).then(function(t){r.Indicator.close();var s=t.data;"success"==s.message?(e(),Object(r.MessageBox)("您已注册成功","账号密码已通过短信发送到您的手机请注意查收。").then(function(t){window.location.href="signin.html"})):"error"==s.message&&Object(r.MessageBox)("注册失败",s.tit),console.log(t)}).catch(function(t){r.Indicator.close(),console.log(t)})},openConfirm:function(){var t=this;r.MessageBox.confirm("协消费者议协消费者议协消费者议协消费者议协消费者议协消费者议","消费者协议").then(function(){t.xieyi=!0}).catch(function(){t.xieyi=!1})},fszm:function(){var t=this;this.myRequest.post("/ucenter/reg/send",{phone:t.phone,type:"getpass"}).then(function(e){var s=document.createElement("script");s.src=e.data.data,t.$refs.zhmm.appendChild(s),console.log(e)}).catch(function(t){Object(r.Toast)("网络错误"),console.log(t)})}},created:function(){this.$route.params.id&&(this.tId=this.$route.params.id,this.getRdata())}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"zhmm"},[s("mt-header",{attrs:{title:"用户注册"}},[s("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1),t._v(" "),s("mt-button",{attrs:{slot:"right"},slot:"right"},[t._v("帮助")])],1),t._v(" "),t._m(0),t._v(" "),s("ul",{staticClass:"inputs"},[s("li",[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tId,expression:"tId"}],attrs:{type:"text",placeholder:"推荐人ID"},domProps:{value:t.tId},on:{blur:t.getRdata,input:function(e){e.target.composing||(t.tId=e.target.value)}}})]),t._v(" "),s("li",[t._m(2),t._v("推荐人:"),s("span",{domProps:{textContent:t._s(t.tName)}})]),t._v(" "),s("li",[t._m(3),t._v("推荐人手机号:"),s("span",{domProps:{textContent:t._s(t.tPhone)}})]),t._v(" "),s("li",[t._m(4),t._v("您的注册身份："),s("span",{domProps:{textContent:t._s(t.identity)}})]),t._v(" "),s("li",[t._m(5),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),s("li",[t._m(6),s("input",{directives:[{name:"model",rawName:"v-model",value:t.yzm,expression:"yzm"}],attrs:{type:"text",placeholder:"手机验证信息"},domProps:{value:t.yzm},on:{input:function(e){e.target.composing||(t.yzm=e.target.value)}}}),t._v(" "),s("svcode",{attrs:{iphone:t.phone}})],1),t._v(" "),s("li",[t._m(7),t._v("登录密码:"),s("span",{domProps:{textContent:t._s(t.randomPass)}})]),t._v(" "),s("li",[t._m(8),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请填写上面随机生成的登录码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("li",{staticClass:"xieyi"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.xieyi,expression:"xieyi"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.xieyi)?t._i(t.xieyi,null)>-1:t.xieyi},on:{change:function(e){var s=t.xieyi,a=e.target,n=!!a.checked;if(Array.isArray(s)){var o=t._i(s,null);a.checked?o<0&&(t.xieyi=s.concat([null])):o>-1&&(t.xieyi=s.slice(0,o).concat(s.slice(o+1)))}else t.xieyi=n}}}),t._v("我已阅读并同意")]),s("mt-button",{staticStyle:{width:"auto",background:"none !important",border:"0 !important"},attrs:{size:"large"},nativeOn:{click:function(e){t.popupVisible3=!0}}},[t._v("《注册协议》")])],1),t._v(" "),s("li",[s("button",{on:{click:t.rsubmit}},[t._v("立即注册")])])]),t._v(" "),s("mt-popup",{staticClass:"mint-popup-3",attrs:{position:"right",modal:!1},model:{value:t.popupVisible3,callback:function(e){t.popupVisible3=e},expression:"popupVisible3"}},[s("h3",[t._v("《注册协议》")]),t._v(" "),s("p"),t._v(" "),s("mt-button",{attrs:{size:"large",type:"primary"},nativeOn:{click:function(e){t.popupVisible3=!1}}},[t._v("确认")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:"static/images/logo1.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"bg1"},[e("i",{staticClass:"iconfont icon-ziyuanjk1"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"bg1"},[e("i",{staticClass:"iconfont icon-ziyuanjk1"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"bg2"},[e("i",{staticClass:"iconfont icon-shouji"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"bg3"},[e("i",{staticClass:"iconfont icon-17"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"bg2"},[e("i",{staticClass:"iconfont icon-shouji"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"bg4"},[e("i",{staticClass:"iconfont icon-shoujiyanzheng"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"bg5"},[e("i",{staticClass:"iconfont icon-mima"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"bg3"},[e("i",{staticClass:"iconfont icon-mimaqueren"})])}]};var h=s("VU/8")(d,m,!1,function(t){s("yt7s")},"data-v-00311a5a",null).exports,v=s("ZVnE");a.default.use(i.a);var f=new i.a({routes:[{path:"/",name:"signIn",component:p},{path:"/reg/:id",name:"Reg1",component:h},{path:"/reg",name:"Reg",component:h},{path:"/forgetpass",name:"forgetp",component:v.a}]}),g=(s("d8/S"),s("fSfa"));a.default.prototype.myRequest=g.a,a.default.config.productionTip=!1,a.default.use(c.a),new a.default({el:"#app",router:f,components:{App:o},template:"<App/>"})},"d8/S":function(t,e){},fSfa:function(t,e,s){"use strict";var a=s("mtWM"),n=s.n(a).a.create({baseURL:"http://ceshiapi.zuitaikj.com/api/v1",timeout:3e3,headers:{"X-Custom-Header":"foobar"}});e.a=n},k1LF:function(t,e){},uITQ:function(t,e,s){"use strict";var a=s("Au9i"),n={name:"svCoode",props:{iphone:String,type:String},data:function(){return{btnDis:!1,send:""}},methods:{getYzm:function(){var t=this;return""==this.iphone||null==this.iphone?(Object(a.Toast)("请输入手机号"),!1):11!=this.iphone.length?(Object(a.Toast)("请输入11位手机号"),!1):void this.myRequest.post("/ucenter/reg/send",{phone:t.iphone,type:t.type}).then(function(e){t.send=e.data.data,window.myfun=t.myfun;var s=document.createElement("script");s.src=t.send+"&callback=myfun",t.$refs.status.appendChild(s),console.log(e)}).catch(function(t){Object(a.Toast)("网络错误"),console.log(t)})},myfun:function(t){if("发送成功"!=t.status)return!1;Object(a.Toast)("发送成功");var e=this,s=60,n=this.$refs.btn;e.btnDis=!0;var o=setInterval(function(){s--,n.innerHTML=s+"s后重试",0==s&&(clearInterval(o),e.btnDis=!1,n.innerHTML="获取验证码")},1e3)}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"status"},[e("button",{ref:"btn",staticClass:"yzm-btn",attrs:{disabled:this.btnDis},on:{click:this.getYzm}},[this._v("获取验证码")])])},staticRenderFns:[]};var i=s("VU/8")(n,o,!1,function(t){s("0ri8")},"data-v-06f54720",null);e.a=i.exports},wtEF:function(t,e,s){"use strict";var a=s("7+uW"),n=s("NYxO");a.default.use(n.a);var o={getU:function(t,e){if(!localStorage.getItem("userId"))return alert("您没有登录，去登陆吧"),location.href="/signin.html",!1;e.post("/ucenter/index",{id:localStorage.getItem("userId")}).then(function(e){t.userData=e.data.data,t.system=e.data.system,console.log("Store----",e.data.data,e.data.system)}).catch(function(t){console.log(t)})},delData:function(t,e){t.userData=e,t.system=e}};e.a=new n.a.Store({state:{userData:{},system:{}},mutations:o})},yt7s:function(t,e){}},["a6kr"]);
//# sourceMappingURL=signin.d27d67ec8c1f6de240c9.js.map